# ✅ Phase 3 Checklist - 성능 최적화 & 테스트

## 📊 데이터베이스 최적화

- [ ] **인덱스 추가**
  - [ ] 조회 성능 느린 쿼리 분석
  - [ ] WHERE 조건 칼럼에 인덱스
  - [ ] ORDER BY 칼럼에 인덱스
  - [ ] JOIN 칼럼에 인덱스
  - [ ] 복합 인덱스 고려

- [ ] **N+1 문제 해결**
  - [ ] Drizzle의 `with()` 메서드 사용
  - [ ] 배치 로드 구현
  - [ ] 쿼리 확인

- [ ] **쿼리 최적화**
  - [ ] 불필요한 SELECT 칼럼 제거
  - [ ] 불필요한 조인 제거
  - [ ] 쿼리 실행 계획 분석

- [ ] **성능 벤치마크**
  - [ ] 응답 시간 측정 (< 200ms)
  - [ ] 동시 사용자 테스트
  - [ ] 데이터 크기 증가 시 성능 확인

## 🧪 단위테스트

- [ ] **Domain 엔티티 테스트**
  - [ ] 생성 로직 테스트
  - [ ] 유효성 검증 테스트
  - [ ] 비즈니스 규칙 테스트

- [ ] **Value Objects 테스트**
  - [ ] 값 유효성 테스트
  - [ ] 동등성 테스트
  - [ ] 변경 불가능성 테스트

- [ ] **Use Case 테스트**
  - [ ] 정상 흐름 테스트
  - [ ] 에러 흐름 테스트
  - [ ] 엣지 케이스 테스트

- [ ] **커버리지**
  - [ ] Domain: > 90%
  - [ ] Application: > 80%
  - [ ] Infrastructure: > 50% (필수 아님)

## 🔐 보안 재점검

- [ ] **인증/인가**
  - [ ] 모든 API에 인증 확인
  - [ ] RBAC 정책 검증
  - [ ] 권한 없는 접근 테스트

- [ ] **데이터 보호**
  - [ ] 민감한 정보 암호화
  - [ ] 환경 변수 확인
  - [ ] API 키 노출 확인

- [ ] **SQL Injection**
  - [ ] Drizzle ORM 사용 (파라미터 쿼리)
  - [ ] 입력값 검증 (Zod)

- [ ] **XSS 방지**
  - [ ] React 자동 이스케이프 확인
  - [ ] DOMPurify 사용 (필요시)

## ✔️ Phase 3 완료 조건

- [ ] 인덱스 추가 완료
- [ ] N+1 문제 해결
- [ ] 단위테스트 작성 (커버리지 > 90%)
- [ ] 보안 재점검 완료
- [ ] 성능 벤치마크 통과
- [ ] GitHub 푸시

---

# ✅ Phase 4 Checklist - 배포 준비

## 🔐 보안 최종 체크

- [ ] API 인증 확인
  - [ ] 모든 엔드포인트 보호
  - [ ] JWT 토큰 검증

- [ ] RBAC 확인
  - [ ] 역할별 권한 정의
  - [ ] 권한 검증 로직

- [ ] RLS 정책
  - [ ] 모든 테이블에 적용
  - [ ] 정책 테스트

- [ ] 환경 변수
  - [ ] .env.example 최신화
  - [ ] 민감한 정보 제거

## 🚀 Vercel 배포

- [ ] **vercel.json 생성**
  - [ ] buildCommand 설정
  - [ ] 환경 변수 정의

- [ ] **환경 변수 추가**
  - [ ] Vercel 대시보드에서 추가
  - [ ] 프리뷰/프로덕션 구분

- [ ] **프리뷰 배포 테스트**
  - [ ] 빌드 성공 확인
  - [ ] 기능 테스트
  - [ ] 성능 확인

- [ ] **프로덕션 배포**
  - [ ] Main 브랜치 배포
  - [ ] 환경 변수 확인

## 🔄 GitHub Actions CI/CD

- [ ] **.github/workflows/ci.yml 생성**
  - [ ] 타입 체크
  - [ ] 린팅
  - [ ] 테스트 실행
  - [ ] 빌드

- [ ] **PR 체크 설정**
  - [ ] 모든 테스트 통과 필수
  - [ ] 린팅 통과 필수

- [ ] **자동 배포 설정**
  - [ ] Main 병합 시 자동 배포
  - [ ] 모든 테스트 통과 후

## 📊 Sentry 모니터링

- [ ] **Sentry 계정 생성**
  - [ ] 프로젝트 생성
  - [ ] DSN 복사

- [ ] **Sentry 초기화**
  - [ ] 환경 변수 추가
  - [ ] 에러 캡처 설정
  - [ ] 환경 구분 (dev, staging, prod)

- [ ] **테스트**
  - [ ] 에러 발생 시 Sentry 기록 확인
  - [ ] 알림 설정

## ✔️ Phase 4 완료 조건

- [ ] 보안 최종 체크 완료
- [ ] Vercel 배포 설정
- [ ] 프리뷰 배포 성공
- [ ] GitHub Actions CI/CD 설정
- [ ] Sentry 모니터링 설정
- [ ] 프로덕션 배포 성공

---

# ✅ Phase 5 Checklist - 운영 최적화

## 📊 모니터링 지표

- [ ] **성능 지표**
  - [ ] 응답 시간 (p50, p95, p99)
  - [ ] 요청/응답 크기
  - [ ] 에러율

- [ ] **시스템 지표**
  - [ ] CPU 사용률
  - [ ] 메모리 사용률
  - [ ] 데이터베이스 연결 수

- [ ] **비즈니스 지표**
  - [ ] DAU (Daily Active Users)
  - [ ] 기능별 사용률
  - [ ] 변환율

## 🧪 E2E 테스트 (선택)

- [ ] **Playwright 설정**
  - [ ] 테스트 시나리오 작성
  - [ ] 중요 기능 커버

- [ ] **주요 플로우 테스트**
  - [ ] 회원가입 → 로그인
  - [ ] CRUD 작업
  - [ ] 결제 (있으면)

## ⚡ 성능 최적화 심화

- [ ] **캐싱 전략**
  - [ ] Redis 활용
  - [ ] 브라우저 캐시
  - [ ] ETag 활용

- [ ] **쿼리 최적화**
  - [ ] VIEW 생성
  - [ ] 배치 작업 최적화
  - [ ] 통계 업데이트

- [ ] **프론트엔드 최적화**
  - [ ] 번들 크기 분석
  - [ ] 이미지 최적화
  - [ ] 코드 스플리팅

## 📊 로그 분석

- [ ] **구조화된 로깅**
  - [ ] JSON 형식
  - [ ] 로그 레벨 구분

- [ ] **Loki + Promtail**
  - [ ] 로그 수집
  - [ ] Grafana 시각화

## 🎯 지속적 개선

- [ ] **주간 리뷰**
  - [ ] 에러율 확인
  - [ ] 성능 지표 확인
  - [ ] 사용자 피드백 수집

- [ ] **정기 배포**
  - [ ] 버그픽스
  - [ ] 기능 추가
  - [ ] 성능 개선

- [ ] **문서 업데이트**
  - [ ] 아키텍처 변경 기록
  - [ ] 배운 점 기록

## ✔️ Phase 5 진행 조건

- [ ] 모니터링 대시보드 설정
- [ ] 주간 성능 리뷰 프로세스 수립
- [ ] 사용자 피드백 수집 프로세스
- [ ] 정기 배포 일정 결정

---

축하합니다! 🎉 전문가급 시스템이 완성되었습니다.
